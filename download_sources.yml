- name: Create the sources directory
  file:
    path: "{{ lfs_root }}/sources"
    state: directory
    mode: a+wt
    owner: root
    group: root

- name: Download the sources list
  get_url:
    url: http://www.linuxfromscratch.org/lfs/view/stable-systemd/wget-list
    dest: "{{ lfs_root }}/sources/"

- name: Download all files from the sources list
  get_url:
    url: "{{ item }}"
    dest: "{{ lfs_root }}/sources/"
  with_items: "{{ lookup('file', lfs_root + '/sources/wget-list').splitlines() }}"